<!DOCTYPE html>
<html>
<head>
    <title>Mapa de Coletas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
  <div class="row">
    <div class="col-sm-8">
      <div id="map" style="height: 500px;"></div>
    </div>
  </div>  
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="coletas.js"></script>
    <script>
        // Criar o mapa
        var map = L.map('map').setView([-23.4743594, -46.4741434], 12);

        // Adicionar o tile layer (mapa de fundo)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
            maxZoom: 18,
        }).addTo(map);

        
        // Adicionar marcadores para cada coleta
        coletasData.forEach(coleta => {
            var latitude = coleta.lat;
            var longitude = coleta.lng;
            var numeroColeta = coleta.numero_coleta;
            var outrosDados = coleta.outros_dados;
            var marker = L.marker([latitude, longitude])
                .bindPopup(`Número da Coleta: ${numeroColeta}<br>Outros Dados: ${outrosDados}`)
                .addTo(map);

            // Adicionar listener para o evento de clique
            marker.on('click', function() {
                console.log(`Marcador ${numeroColeta} clicado`);
                // Aqui você pode fazer o que quiser com o marcador clicado, por exemplo, exibir informações adicionais ou redirecionar para outra página
            });
        });
    </script>
</body>
</html>
